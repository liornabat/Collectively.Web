<template>
    <require from="../../converters/dateFormatValueConverter"></require>
    <require from="../../converters/truncateValueConverter"></require>
    <require from="../../converters/distanceFormatValueConverter"></require>
    <require from="../../converters/sortValueConverter"></require>
    <require from="../../custom-attributes/infinite-scroll"></require>
    <ul class="collection" infinite-scroll="callback.call: getMore()">
        <li class="collection-item avatar" repeat.for="remark of remarks | sort:{propertyName: orderBy, direction: sortOrder}">            
            <a href.bind="remark.url">
              <img if.bind="remark.hasPhoto" class="circle" src.bind="remark.smallPhotoUrl" alt=""/>
              <span class="title">
                ${remark.categoryName} 
                [<span if.bind="remark.distance || remark.distance===0">${remark.distance | distanceFormat}</span>]
              </span>
              <span if.bind="remark.resolved" class="new badge static" data-badge-caption="${'remark.state_resolved' | t}"></span>
              <p>${remark.location.address}</p>
              <p>${remark.description | truncate}</p>
              <p>${remark.author.name | truncate}</p>               
              <p>${remark.createdAt | dateFormat}</p>
            </a>
        </li>
    </ul>
</template>
