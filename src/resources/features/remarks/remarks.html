<template>
    <require from="resources/features/map/map"></require>
    <require from="resources/features/remarks/remark-list"></require>
    <div class="row">
        <div class="col s5">
            <h4>${'remark.remarks' | t}</h4>
        </div>
        <div class="col s7">
            <div class="section right-align">
                <div class="col s9">
                    <md-switch style="margin-top:10px" md-label-on="${'common.map' | t}" md-label-off="${'common.list' | t}" md-checked.bind="mapEnabled"></md-switch>
                </div>
                <div class="col s3" if.bind="filtersEnabled">
                    <a route-href="route: filter-remarks" title="${'remark.filter' | t}" class="btn btn-floating waves-effect"><i class="material-icons left">settings</i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="row" if.bind="mapEnabled">
        <div class="col s12">
            <map remarks.two-way="mapRemarks" center.bind="filtersService.filters.center" radius-changed.call="radiusChanged(radiusMeters, center)"></map>
        </div>
    </div>
    <div class="row" if.bind="!mapEnabled">
        <div class="col s12">
             <remark-list remarks.bind="remarks" load-more.call="loadMore()" refresh.call="refreshList()"></remark-list>
        </div>
    </div>
    <div class="row" if.bind="resetPositionEnabled">
        <div class="col s12">
            <button click.delegate="resetPosition()" class="btn waves-effect waves-light btn-large">
                ${'common.reset_position' | t}
            </button>
        </div>
    </div>
    <div class="row" if.bind="createRemarkEnabled">
        <div class="fixed-action-btn">
            <a route-href="route: create-remark" itle="${'remark.create' | t}" class="btn btn-floating btn-large waves-effect">
                <i class="large material-icons">add</i>
            </a>
        </div>
    </div>
</template>
